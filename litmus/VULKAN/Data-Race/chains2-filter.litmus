VULKAN chains2
{
a = 0; b = 0; c = 0; d = 0;
}
 P0@sg 0,wg 0, qf 0             | P1@sg 0,wg 0, qf 0                          | P2@sg 0,wg 0, qf 0                          | P3@sg 1,wg 0, qf 0                            | P4@sg 0,wg 1, qf 0                     ;
 st.atom.rel.sg.sc0.semsc0 a, 1 | ld.atom.acq.sg.sc0.semsc0 r0, a             | ld.atom.acq.sg.sc1.semsc1 r0, b             | ld.atom.acq.wg.sc0.semsc0 r0, c               | ld.atom.acq.qf.sc1.semsc0.semsc1 r0, d ;
                                | st.atom.rel.sg.sc1.semsc0.semsc1.semav b, 1 | st.atom.rel.wg.sc0.semsc0.semsc1.semav c, 1 | ld.atom.acq.qf.sc0.semsc0.semsc1.semvis r1, a |                                        ;
                                |                                             |                                             | st.atom.rel.qf.sc1.semsc0.semsc1.semav d, 1   |                                        ;

filter (P1:r0 == 1 /\ P2:r0 == 1 /\ P3:r0 == 1 /\ P4:r0 == 1 /\ P3:r1 == 0)